# HH Bot

#### HH Bot — это Spring Boot приложение, предназначенное для автоматизации работы с резюме на сайте HeadHunter (hh.ru). Приложение позволяет обновлять резюме, управлять токенами аутентификации и взаимодействовать с API HeadHunter для автоматического поддержания актуальности профиля. После запуска приложение автоматически обновляет резюме каждые 4 часа, в случае истечения токена, приложение автоматически сходит за новыми.

## Использованные технологии:

- Java 21
- Spring Boot
- Thymeleaf
- Lombok

## Основные функции

- **Получение и обновление токенов** для доступа к API HeadHunter
- **Автоматическое обновление резюме** для поддержания активности профиля
- **Управление блокировкой** веб интерфейса
- **Веб-интерфейс** для легкого взаимодействия
- **API-эндпоинты** для автоматизации

## Установка и запуск

### Настройка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/castroy10/hhbot
   cd hhbot
   ```

2. Соберите проект:
   ```bash
   mvn clean package
   ```
   
3. Настройте переменные окружения или измените `application.yaml`:
   - `CLIENT_ID` - ID клиента для API HeadHunter
   - `CLIENT_SECRET` - Секретный ключ клиента
   - `RESUME_ID` - ID вашего резюме на HeadHunter

### Запуск

Запустите приложение командой:
```bash
mvn spring-boot:run
```

Веб интерфейс приложения будет доступен по адресу: `http://localhost:8080/api/v1/hhbot`

## API эндпоинты

| Метод | Путь | Описание                                        |
|-------|------|-------------------------------------------------|
| GET | `/` | Веб-интерфейс управления                        |
| GET | `/getAuthCode` | Получение кода аутентификации |
| GET | `/init?code={code}` | Инициализация токенов с кодом аутентификации    |
| GET | `/updateResume` | Обновление резюме                               |
| GET | `/check` | Проверка валидности токена                      |
| GET | `/shutdown` | Остановка web сервера                               |

## Использование

1. Зарегистрируйтесь и настройте доступ для приложения на https://dev.hh.ru/admin, укажите Redirect Uri https://ya.ru
2. Возьмите в личном кабинете переменные окружения и настройте их
3. Запустите приложение
4. Откройте веб-интерфейс по адресу `http://localhost:8080/api/v1/hhbot`
5. Нажмите "Получить AuthCode" для получения кода аутентификации
6. Откроется страница ya.ru?code=2183212k3hj...217831. Ваш код 2183212k3hj...217831. 
7. Введите полученный код в поле и нажмите "Отправить" для инициализации токенов
8. Приложение получит токены hh.ru, спустя час обновит резюме, далее будет обновлять резюме каждые 4 часа.
9. Можно подключиться telnet на localhost:8081 и командами start | stop запускать и останавливать web сервер